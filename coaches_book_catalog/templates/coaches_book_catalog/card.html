{% load static %}
<a href="{% url 'coach_detail' coach.id %}" class="flex flex-col justify-start h-[400px] bg-white border-[3px] border-[#E0E0E0] rounded-[10px] text-[#003E85] no-underline overflow-hidden transition-transform duration-200 ease-in-out hover:-translate-y-1 hover:shadow-[0_4px_12px_rgba(0,0,0,0.1)]">
    <div class="w-full h-[150px] bg-[#f0f0f0]">
        {% if coach.foto %}
            <img src="{{ coach.foto.url }}" alt="{{ coach.name }}" class="w-full h-full object-cover">
        {% else %}
            <img src="{% static 'images/default_avatar.png' %}" alt="Default Avatar" class="w-full h-full object-cover">
        {% endif %}
    </div>
    <div class="flex flex-col flex-grow p-4">
        <h3 class="m-0 mb-2 text-[1.125rem] font-bold">{{ coach.name|default:"Nama Coach" }}</h3>
        <div class="flex items-center gap-2 text-[0.9rem] text-[#003E85] font-normal mb-1">
            <i class="fas fa-flag w-[14px] text-center text-[#DE3400]"></i>
            <span>{{ coach.citizenship|default:"Negara" }}</span>
        </div>
        <div class="flex items-center gap-2 text-[0.9rem] text-[#003E85] font-normal mb-1">
            <i class="fas fa-futbol w-[14px] text-center text-[#DE3400]"></i>
            <span>{{ coach.preffered_formation|default:"-" }}</span>
        </div>
        <p class="text-[0.85rem] font-normal text-[#333] leading-[1.4] mt-2 mb-2 flex-grow line-clamp-4">
            {{ coach.description|default:"Tidak ada deskripsi." }}
        </p>
        <div class="my-2 text-yellow-500 text-base flex gap-px items-center">
             {% with avg_rating=coach.avg_rate|default:0 %} 
                {% for i in "12345" %}
                    {% with star_num=forloop.counter %}
                        {% if avg_rating >= star_num %} 
                            <i class="fas fa-star"></i> 
                        {% elif avg_rating >= star_num|add:"-0.5" %} 
                            <i class="fas fa-star-half-alt"></i> 
                        {% else %} 
                            <i class="far fa-star"></i> 
                        {% endif %}
                    {% endwith %}
                {% endfor %}
                 {% if coach.total_reviews > 0 %}
                    <span class="ml-1 text-xs text-gray-500 font-normal">({{ coach.total_reviews }})</span> 
                {% endif %}
            {% endwith %}
        </div>
        <div class="flex items-center gap-2 text-[1rem] font-bold text-[#003E85] mt-0">
            <i class="fas fa-tag"></i>
            <span>Rp {{ coach.rate_per_session|floatformat:0|default:"150.000" }}</span>
        </div>
    </div>
</a>
